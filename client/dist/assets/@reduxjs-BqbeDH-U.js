var Dt=Object.defineProperty;var Tt=(e,n,u)=>n in e?Dt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[n]=u;var Ae=(e,n,u)=>Tt(e,typeof n!="symbol"?n+"":n,u);import{i as ft,a as Se,c as pt,b as jt,d as De,e as kt}from"./redux-BXkGT1VS.js";import{p as de,i as Ue,a as yt,e as _t,b as $e,c as ht,o as Ft}from"./immer-fBqQtvEc.js";import{t as Ut,w as zt}from"./redux-thunk-ClJT1hhx.js";import{w as We,c as gt}from"./reselect-utOO-l3Z.js";import{b as Lt,u as xt,a as Nt,c as Bt,s as ue}from"./react-redux-C2QVzL3I.js";import{r as j}from"./react-DOKUib4L.js";var Vt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?De:De.apply(null,arguments)},Kt=e=>e&&typeof e.match=="function";function H(e,n){function u(...d){if(n){let f=n(...d);if(!f)throw new Error($(0));return{type:e,payload:f.payload,..."meta"in f&&{meta:f.meta},..."error"in f&&{error:f.error}}}return{type:e,payload:d[0]}}return u.toString=()=>`${e}`,u.type=e,u.match=d=>ft(d)&&d.type===e,u}var mt=class oe extends Array{constructor(...n){super(...n),Object.setPrototypeOf(this,oe.prototype)}static get[Symbol.species](){return oe}concat(...n){return super.concat.apply(this,n)}prepend(...n){return n.length===1&&Array.isArray(n[0])?new oe(...n[0].concat(this)):new oe(...n.concat(this))}};function Ge(e){return Ue(e)?de(e,()=>{}):e}function Je(e,n,u){return e.has(n)?e.get(n):e.set(n,u(n)).get(n)}function Ht(e){return typeof e=="boolean"}var $t=()=>function(n){const{thunk:u=!0,immutableCheck:d=!0,serializableCheck:f=!0,actionCreatorCheck:b=!0}=n??{};let g=new mt;return u&&(Ht(u)?g.push(Ut):g.push(zt(u.extraArgument))),g},Me="RTK_autoBatch",re=()=>e=>({payload:e,meta:{[Me]:!0}}),Xe=e=>n=>{setTimeout(n,e)},Wt=(e={type:"raf"})=>n=>(...u)=>{const d=n(...u);let f=!0,b=!1,g=!1;const P=new Set,E=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Xe(10):e.type==="callback"?e.queueNotification:Xe(e.timeout),S=()=>{g=!1,b&&(b=!1,P.forEach(M=>M()))};return Object.assign({},d,{subscribe(M){const w=()=>f&&M(),v=d.subscribe(w);return P.add(M),()=>{v(),P.delete(M)}},dispatch(M){var w;try{return f=!((w=M==null?void 0:M.meta)!=null&&w[Me]),b=!f,b&&(g||(g=!0,E(S))),d.dispatch(M)}finally{f=!0}}})},Gt=e=>function(u){const{autoBatch:d=!0}=u??{};let f=new mt(e);return d&&f.push(Wt(typeof d=="object"?d:void 0)),f};function Zn(e){const n=$t(),{reducer:u=void 0,middleware:d,devTools:f=!0,preloadedState:b=void 0,enhancers:g=void 0}=e||{};let P;if(typeof u=="function")P=u;else if(Se(u))P=pt(u);else throw new Error($(1));let E;typeof d=="function"?E=d(n):E=n();let S=De;f&&(S=Vt({trace:!1,...typeof f=="object"&&f}));const M=jt(...E),w=Gt(M);let v=typeof g=="function"?g(w):w();const y=S(...v);return kt(P,b,y)}function bt(e){const n={},u=[];let d;const f={addCase(b,g){const P=typeof b=="string"?b:b.type;if(!P)throw new Error($(28));if(P in n)throw new Error($(29));return n[P]=g,f},addMatcher(b,g){return u.push({matcher:b,reducer:g}),f},addDefaultCase(b){return d=b,f}};return e(f),[n,u,d]}function Jt(e){return typeof e=="function"}function Xt(e,n){let[u,d,f]=bt(n),b;if(Jt(e))b=()=>Ge(e());else{const P=Ge(e);b=()=>P}function g(P=b(),E){let S=[u[E.type],...d.filter(({matcher:M})=>M(E)).map(({reducer:M})=>M)];return S.filter(M=>!!M).length===0&&(S=[f]),S.reduce((M,w)=>{if(w)if(yt(M)){const y=w(M,E);return y===void 0?M:y}else{if(Ue(M))return de(M,v=>w(v,E));{const v=w(M,E);if(v===void 0){if(M===null)return M;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return M},P)}return g.getInitialState=b,g}var vt=(e,n)=>Kt(e)?e.match(n):e(n);function J(...e){return n=>e.some(u=>vt(u,n))}function ce(...e){return n=>e.every(u=>vt(u,n))}function Ee(e,n){if(!e||!e.meta)return!1;const u=typeof e.meta.requestId=="string",d=n.indexOf(e.meta.requestStatus)>-1;return u&&d}function fe(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function ze(...e){return e.length===0?n=>Ee(n,["pending"]):fe(e)?J(...e.map(n=>n.pending)):ze()(e[0])}function ne(...e){return e.length===0?n=>Ee(n,["rejected"]):fe(e)?J(...e.map(n=>n.rejected)):ne()(e[0])}function Pe(...e){const n=u=>u&&u.meta&&u.meta.rejectedWithValue;return e.length===0?ce(ne(...e),n):fe(e)?ce(ne(...e),n):Pe()(e[0])}function X(...e){return e.length===0?n=>Ee(n,["fulfilled"]):fe(e)?J(...e.map(n=>n.fulfilled)):X()(e[0])}function Te(...e){return e.length===0?n=>Ee(n,["pending","fulfilled","rejected"]):fe(e)?J(...e.flatMap(n=>[n.pending,n.rejected,n.fulfilled])):Te()(e[0])}var Yt="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Le=(e=21)=>{let n="",u=e;for(;u--;)n+=Yt[Math.random()*64|0];return n},Zt=["name","message","stack","code"],Ie=class{constructor(e,n){Ae(this,"_type");this.payload=e,this.meta=n}},Ye=class{constructor(e,n){Ae(this,"_type");this.payload=e,this.meta=n}},en=e=>{if(typeof e=="object"&&e!==null){const n={};for(const u of Zt)typeof e[u]=="string"&&(n[u]=e[u]);return n}return{message:String(e)}},Ze="External signal was aborted",et=(()=>{function e(n,u,d){const f=H(n+"/fulfilled",(E,S,M,w)=>({payload:E,meta:{...w||{},arg:M,requestId:S,requestStatus:"fulfilled"}})),b=H(n+"/pending",(E,S,M)=>({payload:void 0,meta:{...M||{},arg:S,requestId:E,requestStatus:"pending"}})),g=H(n+"/rejected",(E,S,M,w,v)=>({payload:w,error:(d&&d.serializeError||en)(E||"Rejected"),meta:{...v||{},arg:M,requestId:S,rejectedWithValue:!!w,requestStatus:"rejected",aborted:(E==null?void 0:E.name)==="AbortError",condition:(E==null?void 0:E.name)==="ConditionError"}}));function P(E,{signal:S}={}){return(M,w,v)=>{const y=d!=null&&d.idGenerator?d.idGenerator(E):Le(),Q=new AbortController;let A,R;function m(s){R=s,Q.abort()}S&&(S.aborted?m(Ze):S.addEventListener("abort",()=>m(Ze),{once:!0}));const C=async function(){var a,h;let s;try{let c=(a=d==null?void 0:d.condition)==null?void 0:a.call(d,E,{getState:w,extra:v});if(nn(c)&&(c=await c),c===!1||Q.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const t=new Promise((i,o)=>{A=()=>{o({name:"AbortError",message:R||"Aborted"})},Q.signal.addEventListener("abort",A)});M(b(y,E,(h=d==null?void 0:d.getPendingMeta)==null?void 0:h.call(d,{requestId:y,arg:E},{getState:w,extra:v}))),s=await Promise.race([t,Promise.resolve(u(E,{dispatch:M,getState:w,extra:v,requestId:y,signal:Q.signal,abort:m,rejectWithValue:(i,o)=>new Ie(i,o),fulfillWithValue:(i,o)=>new Ye(i,o)})).then(i=>{if(i instanceof Ie)throw i;return i instanceof Ye?f(i.payload,y,E,i.meta):f(i,y,E)})])}catch(c){s=c instanceof Ie?g(null,y,E,c.payload,c.meta):g(c,y,E)}finally{A&&Q.signal.removeEventListener("abort",A)}return d&&!d.dispatchConditionRejection&&g.match(s)&&s.meta.condition||M(s),s}();return Object.assign(C,{abort:m,requestId:y,arg:E,unwrap(){return C.then(tn)}})}}return Object.assign(P,{pending:b,rejected:g,fulfilled:f,settled:J(g,f),typePrefix:n})}return e.withTypes=()=>e,e})();function tn(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function nn(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var rn=Symbol.for("rtk-slice-createasyncthunk");function sn(e,n){return`${e}/${n}`}function on({creators:e}={}){var u;const n=(u=e==null?void 0:e.asyncThunk)==null?void 0:u[rn];return function(f){const{name:b,reducerPath:g=b}=f;if(!b)throw new Error($(11));const P=(typeof f.reducers=="function"?f.reducers(cn()):f.reducers)||{},E=Object.keys(P),S={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},M={addCase(s,r){const a=typeof s=="string"?s:s.type;if(!a)throw new Error($(12));if(a in S.sliceCaseReducersByType)throw new Error($(13));return S.sliceCaseReducersByType[a]=r,M},addMatcher(s,r){return S.sliceMatchers.push({matcher:s,reducer:r}),M},exposeAction(s,r){return S.actionCreators[s]=r,M},exposeCaseReducer(s,r){return S.sliceCaseReducersByName[s]=r,M}};E.forEach(s=>{const r=P[s],a={reducerName:s,type:sn(b,s),createNotation:typeof f.reducers=="function"};ln(r)?fn(a,r,M,n):an(a,r,M)});function w(){const[s={},r=[],a=void 0]=typeof f.extraReducers=="function"?bt(f.extraReducers):[f.extraReducers],h={...s,...S.sliceCaseReducersByType};return Xt(f.initialState,c=>{for(let t in h)c.addCase(t,h[t]);for(let t of S.sliceMatchers)c.addMatcher(t.matcher,t.reducer);for(let t of r)c.addMatcher(t.matcher,t.reducer);a&&c.addDefaultCase(a)})}const v=s=>s,y=new Map;let Q;function A(s,r){return Q||(Q=w()),Q(s,r)}function R(){return Q||(Q=w()),Q.getInitialState()}function m(s,r=!1){function a(c){let t=c[s];return typeof t>"u"&&r&&(t=R()),t}function h(c=v){const t=Je(y,r,()=>new WeakMap);return Je(t,c,()=>{const i={};for(const[o,l]of Object.entries(f.selectors??{}))i[o]=un(l,c,R,r);return i})}return{reducerPath:s,getSelectors:h,get selectors(){return h(a)},selectSlice:a}}const C={name:b,reducer:A,actions:S.actionCreators,caseReducers:S.sliceCaseReducersByName,getInitialState:R,...m(g),injectInto(s,{reducerPath:r,...a}={}){const h=r??g;return s.inject({reducerPath:h,reducer:A},a),{...C,...m(h,!0)}}};return C}}function un(e,n,u,d){function f(b,...g){let P=n(b);return typeof P>"u"&&d&&(P=u()),e(P,...g)}return f.unwrapped=e,f}var Z=on();function cn(){function e(n,u){return{_reducerDefinitionType:"asyncThunk",payloadCreator:n,...u}}return e.withTypes=()=>e,{reducer(n){return Object.assign({[n.name](...u){return n(...u)}}[n.name],{_reducerDefinitionType:"reducer"})},preparedReducer(n,u){return{_reducerDefinitionType:"reducerWithPrepare",prepare:n,reducer:u}},asyncThunk:e}}function an({type:e,reducerName:n,createNotation:u},d,f){let b,g;if("reducer"in d){if(u&&!dn(d))throw new Error($(17));b=d.reducer,g=d.prepare}else b=d;f.addCase(e,b).exposeCaseReducer(n,b).exposeAction(n,g?H(e,g):H(e))}function ln(e){return e._reducerDefinitionType==="asyncThunk"}function dn(e){return e._reducerDefinitionType==="reducerWithPrepare"}function fn({type:e,reducerName:n},u,d,f){if(!f)throw new Error($(18));const{payloadCreator:b,fulfilled:g,pending:P,rejected:E,settled:S,options:M}=u,w=f(e,b,M);d.exposeAction(n,w),g&&d.addCase(w.fulfilled,g),P&&d.addCase(w.pending,P),E&&d.addCase(w.rejected,E),S&&d.addMatcher(w.settled,S),d.exposeCaseReducer(n,{fulfilled:g||he,pending:P||he,rejected:E||he,settled:S||he})}function he(){}function $(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var St=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(St||{});function tt(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var nt=Se;function wt(e,n){if(e===n||!(nt(e)&&nt(n)||Array.isArray(e)&&Array.isArray(n)))return n;const u=Object.keys(n),d=Object.keys(e);let f=u.length===d.length;const b=Array.isArray(n)?[]:{};for(const g of u)b[g]=wt(e[g],n[g]),f&&(f=e[g]===b[g]);return f?e:b}function te(e){let n=0;for(const u in e)n++;return n}var rt=e=>[].concat(...e);function pn(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function we(e){return e!=null}function yn(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function hn(e,n,u){return e.has(n)?e.get(n):e.set(n,u).get(n)}var it=class{constructor(e,n=void 0){this.value=e,this.meta=n}},xe=H("__rtkq/focused"),Mt=H("__rtkq/unfocused"),Ne=H("__rtkq/online"),Et=H("__rtkq/offline");function Be(e){return e.type==="query"}function gn(e){return e.type==="mutation"}function Ve(e){return e.type==="infinitequery"}function Ke(e,n,u,d,f,b){return mn(e)?e(n,u,d,f).filter(we).map(je).map(b):Array.isArray(e)?e.map(je).map(b):[]}function mn(e){return typeof e=="function"}function je(e){return typeof e=="string"?{type:e}:e}function bn(e,n){return e.catch(n)}var ae=Symbol("forceQueryFn"),ke=e=>typeof e[ae]=="function";function vn({serializeQueryArgs:e,queryThunk:n,infiniteQueryThunk:u,mutationThunk:d,api:f,context:b}){const g=new Map,P=new Map,{unsubscribeQueryResult:E,removeMutationResult:S,updateSubscriptionOptions:M}=f.internalActions;return{buildInitiateQuery:R,buildInitiateInfiniteQuery:m,buildInitiateMutation:C,getRunningQueryThunk:w,getRunningMutationThunk:v,getRunningQueriesThunk:y,getRunningMutationsThunk:Q};function w(s,r){return a=>{var t;const h=b.endpointDefinitions[s],c=e({queryArgs:r,endpointDefinition:h,endpointName:s});return(t=g.get(a))==null?void 0:t[c]}}function v(s,r){return a=>{var h;return(h=P.get(a))==null?void 0:h[r]}}function y(){return s=>Object.values(g.get(s)||{}).filter(we)}function Q(){return s=>Object.values(P.get(s)||{}).filter(we)}function A(s,r){const a=(h,{subscribe:c=!0,forceRefetch:t,subscriptionOptions:i,[ae]:o,...l}={})=>(p,q)=>{var F;const O=e({queryArgs:h,endpointDefinition:r,endpointName:s});let D;const I={...l,type:"query",subscribe:c,forceRefetch:t,subscriptionOptions:i,endpointName:s,originalArgs:h,queryCacheKey:O,[ae]:o};if(Be(r))D=n(I);else{const{direction:V,initialPageParam:K}=l;D=u({...I,direction:V,initialPageParam:K})}const T=f.endpoints[s].select(h),k=p(D),L=T(q()),{requestId:N,abort:U}=k,_=L.requestId!==N,B=(F=g.get(p))==null?void 0:F[O],x=()=>T(q()),z=Object.assign(o?k.then(x):_&&!B?Promise.resolve(L):Promise.all([B,k]).then(x),{arg:h,requestId:N,subscriptionOptions:i,queryCacheKey:O,abort:U,async unwrap(){const V=await z;if(V.isError)throw V.error;return V.data},refetch:()=>p(a(h,{subscribe:!1,forceRefetch:!0})),unsubscribe(){c&&p(E({queryCacheKey:O,requestId:N}))},updateSubscriptionOptions(V){z.subscriptionOptions=V,p(M({endpointName:s,requestId:N,queryCacheKey:O,options:V}))}});if(!B&&!_&&!o){const V=hn(g,p,{});V[O]=z,z.then(()=>{delete V[O],te(V)||g.delete(p)})}return z};return a}function R(s,r){return A(s,r)}function m(s,r){return A(s,r)}function C(s){return(r,{track:a=!0,fixedCacheKey:h}={})=>(c,t)=>{const i=d({type:"mutation",endpointName:s,originalArgs:r,track:a,fixedCacheKey:h}),o=c(i),{requestId:l,abort:p,unwrap:q}=o,O=bn(o.unwrap().then(k=>({data:k})),k=>({error:k})),D=()=>{c(S({requestId:l,fixedCacheKey:h}))},I=Object.assign(O,{arg:o.arg,requestId:l,abort:p,unwrap:q,reset:D}),T=P.get(c)||{};return P.set(c,T),T[l]=I,I.then(()=>{delete T[l],te(T)||P.delete(c)}),h&&(T[h]=I,I.then(()=>{T[h]===I&&(delete T[h],te(T)||P.delete(c))})),I}}}function Sn(e){return e}var ge=(e={})=>({...e,[Me]:!0});function wn({reducerPath:e,baseQuery:n,context:{endpointDefinitions:u},serializeQueryArgs:d,api:f,assertTagType:b,selectors:g}){const P=(t,i,o,l)=>(p,q)=>{const O=u[t],D=d({queryArgs:i,endpointDefinition:O,endpointName:t});if(p(f.internalActions.queryResultPatched({queryCacheKey:D,patches:o})),!l)return;const I=f.endpoints[t].select(i)(q()),T=Ke(O.providesTags,I.data,void 0,i,{},b);p(f.internalActions.updateProvidedBy({queryCacheKey:D,providedTags:T}))};function E(t,i,o=0){const l=[i,...t];return o&&l.length>o?l.slice(0,-1):l}function S(t,i,o=0){const l=[...t,i];return o&&l.length>o?l.slice(1):l}const M=(t,i,o,l=!0)=>(p,q)=>{const D=f.endpoints[t].select(i)(q()),I={patches:[],inversePatches:[],undo:()=>p(f.util.patchQueryData(t,i,I.inversePatches,l))};if(D.status==="uninitialized")return I;let T;if("data"in D)if(Ue(D.data)){const[k,L,N]=ht(D.data,o);I.patches.push(...L),I.inversePatches.push(...N),T=k}else T=o(D.data),I.patches.push({op:"replace",path:[],value:T}),I.inversePatches.push({op:"replace",path:[],value:D.data});return I.patches.length===0||p(f.util.patchQueryData(t,i,I.patches,l)),I},w=(t,i,o)=>l=>l(f.endpoints[t].initiate(i,{subscribe:!1,forceRefetch:!0,[ae]:()=>({data:o})})),v=(t,i)=>t.query&&t[i]?t[i]:Sn,y=async(t,{signal:i,abort:o,rejectWithValue:l,fulfillWithValue:p,dispatch:q,getState:O,extra:D})=>{var T;const I=u[t.endpointName];try{let k=v(I,"transformResponse");const L={signal:i,abort:o,dispatch:q,getState:O,extra:D,endpoint:t.endpointName,type:t.type,forced:t.type==="query"?Q(t,O()):void 0,queryCacheKey:t.type==="query"?t.queryCacheKey:void 0},N=t.type==="query"?t[ae]:void 0;let U;const _=async(x,z,F,V)=>{if(z==null&&x.pages.length)return Promise.resolve({data:x});const K={queryArg:t.originalArgs,pageParam:z},pe=await B(K),Y=V?E:S;return{data:{pages:Y(x.pages,pe.data,F),pageParams:Y(x.pageParams,z,F)}}};async function B(x){let z;const{extraOptions:F}=I;if(N?z=N():I.query?z=await n(I.query(x),L,F):z=await I.queryFn(x,L,F,K=>n(K,L,F)),typeof process<"u",z.error)throw new it(z.error,z.meta);const V=await k(z.data,z.meta,x);return{...z,data:V}}if(t.type==="query"&&"infiniteQueryOptions"in I){const{infiniteQueryOptions:x}=I,{maxPages:z=1/0}=x;let F;const V={pages:[],pageParams:[]},K=(T=g.selectQueryEntry(O(),t.queryCacheKey))==null?void 0:T.data,Y=Q(t,O())&&!t.direction||!K?V:K;if("direction"in t&&t.direction&&Y.pages.length){const ye=t.direction==="backward",Re=(ye?Pt:_e)(x,Y);F=await _(Y,Re,z,ye)}else{const{initialPageParam:ye=x.initialPageParam}=t,Qe=(K==null?void 0:K.pageParams)??[],Re=Qe[0]??ye,Ct=Qe.length;F=await _(Y,Re,z),N&&(F={data:F.data.pages[0]});for(let He=1;He<Ct;He++){const Ot=_e(x,F.data);F=await _(F.data,Ot,z)}}U=F}else U=await B(t.originalArgs);return p(U.data,ge({fulfilledTimeStamp:Date.now(),baseQueryMeta:U.meta}))}catch(k){let L=k;if(L instanceof it){let N=v(I,"transformErrorResponse");try{return l(await N(L.value,L.meta,t.originalArgs),ge({baseQueryMeta:L.meta}))}catch(U){L=U}}throw console.error(L),L}};function Q(t,i){const o=g.selectQueryEntry(i,t.queryCacheKey),l=g.selectConfig(i).refetchOnMountOrArgChange,p=o==null?void 0:o.fulfilledTimeStamp,q=t.forceRefetch??(t.subscribe&&l);return q?q===!0||(Number(new Date)-Number(p))/1e3>=q:!1}const A=()=>et(`${e}/executeQuery`,y,{getPendingMeta({arg:i}){const o=u[i.endpointName];return ge({startedTimeStamp:Date.now(),...Ve(o)?{direction:i.direction}:{}})},condition(i,{getState:o}){var k;const l=o(),p=g.selectQueryEntry(l,i.queryCacheKey),q=p==null?void 0:p.fulfilledTimeStamp,O=i.originalArgs,D=p==null?void 0:p.originalArgs,I=u[i.endpointName],T=i.direction;return ke(i)?!0:(p==null?void 0:p.status)==="pending"?!1:Q(i,l)||Be(I)&&((k=I==null?void 0:I.forceRefetch)!=null&&k.call(I,{currentArg:O,previousArg:D,endpointState:p,state:l}))?!0:!(q&&!T)},dispatchConditionRejection:!0}),R=A(),m=A(),C=et(`${e}/executeMutation`,y,{getPendingMeta(){return ge({startedTimeStamp:Date.now()})}}),s=t=>"force"in t,r=t=>"ifOlderThan"in t,a=(t,i,o)=>(l,p)=>{const q=s(o)&&o.force,O=r(o)&&o.ifOlderThan,D=(T=!0)=>{const k={forceRefetch:T,isPrefetch:!0};return f.endpoints[t].initiate(i,k)},I=f.endpoints[t].select(i)(p());if(q)l(D());else if(O){const T=I==null?void 0:I.fulfilledTimeStamp;if(!T){l(D());return}(Number(new Date)-Number(new Date(T)))/1e3>=O&&l(D())}else l(D(!1))};function h(t){return i=>{var o,l;return((l=(o=i==null?void 0:i.meta)==null?void 0:o.arg)==null?void 0:l.endpointName)===t}}function c(t,i){return{matchPending:ce(ze(t),h(i)),matchFulfilled:ce(X(t),h(i)),matchRejected:ce(ne(t),h(i))}}return{queryThunk:R,mutationThunk:C,infiniteQueryThunk:m,prefetch:a,updateQueryData:M,upsertQueryData:w,patchQueryData:P,buildMatchThunkActions:c}}function _e(e,{pages:n,pageParams:u}){const d=n.length-1;return e.getNextPageParam(n[d],n,u[d],u)}function Pt(e,{pages:n,pageParams:u}){var d;return(d=e.getPreviousPageParam)==null?void 0:d.call(e,n[0],n,u[0],u)}function Qt(e,n,u,d){return Ke(u[e.meta.arg.endpointName][n],X(e)?e.payload:void 0,Pe(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,d)}function me(e,n,u){const d=e[n];d&&u(d)}function le(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function st(e,n,u){const d=e[le(n)];d&&u(d)}var ie={};function Mn({reducerPath:e,queryThunk:n,mutationThunk:u,serializeQueryArgs:d,context:{endpointDefinitions:f,apiUid:b,extractRehydrationInfo:g,hasRehydrationInfo:P},assertTagType:E,config:S}){const M=H(`${e}/resetApiState`);function w(c,t,i,o){var l;c[l=t.queryCacheKey]??(c[l]={status:"uninitialized",endpointName:t.endpointName}),me(c,t.queryCacheKey,p=>{p.status="pending",p.requestId=i&&p.requestId?p.requestId:o.requestId,t.originalArgs!==void 0&&(p.originalArgs=t.originalArgs),p.startedTimeStamp=o.startedTimeStamp;const q=f[o.arg.endpointName];Ve(q)&&"direction"in t&&(p.direction=t.direction)})}function v(c,t,i,o){me(c,t.arg.queryCacheKey,l=>{if(l.requestId!==t.requestId&&!o)return;const{merge:p}=f[t.arg.endpointName];if(l.status="fulfilled",p)if(l.data!==void 0){const{fulfilledTimeStamp:q,arg:O,baseQueryMeta:D,requestId:I}=t;let T=de(l.data,k=>p(k,i,{arg:O.originalArgs,baseQueryMeta:D,fulfilledTimeStamp:q,requestId:I}));l.data=T}else l.data=i;else l.data=f[t.arg.endpointName].structuralSharing??!0?wt(yt(l.data)?Ft(l.data):l.data,i):i;delete l.error,l.fulfilledTimeStamp=t.fulfilledTimeStamp})}const y=Z({name:`${e}/queries`,initialState:ie,reducers:{removeQueryResult:{reducer(c,{payload:{queryCacheKey:t}}){delete c[t]},prepare:re()},cacheEntriesUpserted:{reducer(c,t){for(const i of t.payload){const{queryDescription:o,value:l}=i;w(c,o,!0,{arg:o,requestId:t.meta.requestId,startedTimeStamp:t.meta.timestamp}),v(c,{arg:o,requestId:t.meta.requestId,fulfilledTimeStamp:t.meta.timestamp,baseQueryMeta:{}},l,!0)}},prepare:c=>({payload:c.map(o=>{const{endpointName:l,arg:p,value:q}=o,O=f[l];return{queryDescription:{type:"query",endpointName:l,originalArgs:o.arg,queryCacheKey:d({queryArgs:p,endpointDefinition:O,endpointName:l})},value:q}}),meta:{[Me]:!0,requestId:Le(),timestamp:Date.now()}})},queryResultPatched:{reducer(c,{payload:{queryCacheKey:t,patches:i}}){me(c,t,o=>{o.data=$e(o.data,i.concat())})},prepare:re()}},extraReducers(c){c.addCase(n.pending,(t,{meta:i,meta:{arg:o}})=>{const l=ke(o);w(t,o,l,i)}).addCase(n.fulfilled,(t,{meta:i,payload:o})=>{const l=ke(i.arg);v(t,i,o,l)}).addCase(n.rejected,(t,{meta:{condition:i,arg:o,requestId:l},error:p,payload:q})=>{me(t,o.queryCacheKey,O=>{if(!i){if(O.requestId!==l)return;O.status="rejected",O.error=q??p}})}).addMatcher(P,(t,i)=>{const{queries:o}=g(i);for(const[l,p]of Object.entries(o))((p==null?void 0:p.status)==="fulfilled"||(p==null?void 0:p.status)==="rejected")&&(t[l]=p)})}}),Q=Z({name:`${e}/mutations`,initialState:ie,reducers:{removeMutationResult:{reducer(c,{payload:t}){const i=le(t);i in c&&delete c[i]},prepare:re()}},extraReducers(c){c.addCase(u.pending,(t,{meta:i,meta:{requestId:o,arg:l,startedTimeStamp:p}})=>{l.track&&(t[le(i)]={requestId:o,status:"pending",endpointName:l.endpointName,startedTimeStamp:p})}).addCase(u.fulfilled,(t,{payload:i,meta:o})=>{o.arg.track&&st(t,o,l=>{l.requestId===o.requestId&&(l.status="fulfilled",l.data=i,l.fulfilledTimeStamp=o.fulfilledTimeStamp)})}).addCase(u.rejected,(t,{payload:i,error:o,meta:l})=>{l.arg.track&&st(t,l,p=>{p.requestId===l.requestId&&(p.status="rejected",p.error=i??o)})}).addMatcher(P,(t,i)=>{const{mutations:o}=g(i);for(const[l,p]of Object.entries(o))((p==null?void 0:p.status)==="fulfilled"||(p==null?void 0:p.status)==="rejected")&&l!==(p==null?void 0:p.requestId)&&(t[l]=p)})}}),A=Z({name:`${e}/invalidation`,initialState:ie,reducers:{updateProvidedBy:{reducer(c,t){var l,p;const{queryCacheKey:i,providedTags:o}=t.payload;for(const q of Object.values(c))for(const O of Object.values(q)){const D=O.indexOf(i);D!==-1&&O.splice(D,1)}for(const{type:q,id:O}of o){const D=(l=c[q]??(c[q]={}))[p=O||"__internal_without_id"]??(l[p]=[]);D.includes(i)||D.push(i)}},prepare:re()}},extraReducers(c){c.addCase(y.actions.removeQueryResult,(t,{payload:{queryCacheKey:i}})=>{for(const o of Object.values(t))for(const l of Object.values(o)){const p=l.indexOf(i);p!==-1&&l.splice(p,1)}}).addMatcher(P,(t,i)=>{var l,p;const{provided:o}=g(i);for(const[q,O]of Object.entries(o))for(const[D,I]of Object.entries(O)){const T=(l=t[q]??(t[q]={}))[p=D||"__internal_without_id"]??(l[p]=[]);for(const k of I)T.includes(k)||T.push(k)}}).addMatcher(J(X(n),Pe(n)),(t,i)=>{R(t,i)}).addMatcher(y.actions.cacheEntriesUpserted.match,(t,i)=>{for(const{queryDescription:o,value:l}of i.payload)R(t,{type:"UNKNOWN",payload:l,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:o}})})}});function R(c,t){const i=Qt(t,"providesTags",f,E),{queryCacheKey:o}=t.meta.arg;A.caseReducers.updateProvidedBy(c,A.actions.updateProvidedBy({queryCacheKey:o,providedTags:i}))}const m=Z({name:`${e}/subscriptions`,initialState:ie,reducers:{updateSubscriptionOptions(c,t){},unsubscribeQueryResult(c,t){},internal_getRTKQSubscriptions(){}}}),C=Z({name:`${e}/internalSubscriptions`,initialState:ie,reducers:{subscriptionsUpdated:{reducer(c,t){return $e(c,t.payload)},prepare:re()}}}),s=Z({name:`${e}/config`,initialState:{online:yn(),focused:pn(),middlewareRegistered:!1,...S},reducers:{middlewareRegistered(c,{payload:t}){c.middlewareRegistered=c.middlewareRegistered==="conflict"||b!==t?"conflict":!0}},extraReducers:c=>{c.addCase(Ne,t=>{t.online=!0}).addCase(Et,t=>{t.online=!1}).addCase(xe,t=>{t.focused=!0}).addCase(Mt,t=>{t.focused=!1}).addMatcher(P,t=>({...t}))}}),r=pt({queries:y.reducer,mutations:Q.reducer,provided:A.reducer,subscriptions:C.reducer,config:s.reducer}),a=(c,t)=>r(M.match(t)?void 0:c,t),h={...s.actions,...y.actions,...m.actions,...C.actions,...Q.actions,...A.actions,resetApiState:M};return{reducer:a,actions:h}}var G=Symbol.for("RTKQ/skipToken"),Rt={status:"uninitialized"},ot=de(Rt,()=>{}),ut=de(Rt,()=>{});function En({serializeQueryArgs:e,reducerPath:n,createSelector:u}){const d=s=>ot,f=s=>ut;return{buildQuerySelector:v,buildInfiniteQuerySelector:y,buildMutationSelector:Q,selectInvalidatedBy:A,selectCachedArgsForQuery:R,selectApiState:g,selectQueries:P,selectMutations:S,selectQueryEntry:E,selectConfig:M};function b(s){return{...s,...tt(s.status)}}function g(s){return s[n]}function P(s){var r;return(r=g(s))==null?void 0:r.queries}function E(s,r){var a;return(a=P(s))==null?void 0:a[r]}function S(s){var r;return(r=g(s))==null?void 0:r.mutations}function M(s){var r;return(r=g(s))==null?void 0:r.config}function w(s,r,a){return h=>{if(h===G)return u(d,a);const c=e({queryArgs:h,endpointDefinition:r,endpointName:s});return u(i=>E(i,c)??ot,a)}}function v(s,r){return w(s,r,b)}function y(s,r){const{infiniteQueryOptions:a}=r;function h(c){const t={...c,...tt(c.status)},{isLoading:i,isError:o,direction:l}=t,p=l==="forward",q=l==="backward";return{...t,hasNextPage:m(a,t.data),hasPreviousPage:C(a,t.data),isFetchingNextPage:i&&p,isFetchingPreviousPage:i&&q,isFetchNextPageError:o&&p,isFetchPreviousPageError:o&&q}}return w(s,r,h)}function Q(){return s=>{let r;return typeof s=="object"?r=le(s)??G:r=s,u(r===G?f:c=>{var t,i;return((i=(t=g(c))==null?void 0:t.mutations)==null?void 0:i[r])??ut},b)}}function A(s,r){const a=s[n],h=new Set;for(const c of r.filter(we).map(je)){const t=a.provided[c.type];if(!t)continue;let i=(c.id!==void 0?t[c.id]:rt(Object.values(t)))??[];for(const o of i)h.add(o)}return rt(Array.from(h.values()).map(c=>{const t=a.queries[c];return t?[{queryCacheKey:c,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]}))}function R(s,r){return Object.values(P(s)).filter(a=>(a==null?void 0:a.endpointName)===r&&a.status!=="uninitialized").map(a=>a.originalArgs)}function m(s,r){return r?_e(s,r)!=null:!1}function C(s,r){return!r||!s.getPreviousPageParam?!1:Pt(s,r)!=null}}var ee=WeakMap?new WeakMap:void 0,Fe=({endpointName:e,queryArgs:n})=>{let u="";const d=ee==null?void 0:ee.get(n);if(typeof d=="string")u=d;else{const f=JSON.stringify(n,(b,g)=>(g=typeof g=="bigint"?{$bigint:g.toString()}:g,g=Se(g)?Object.keys(g).sort().reduce((P,E)=>(P[E]=g[E],P),{}):g,g));Se(n)&&(ee==null||ee.set(n,f)),u=f}return`${e}(${u})`};function At(...e){return function(u){const d=We(S=>{var M;return(M=u.extractRehydrationInfo)==null?void 0:M.call(u,S,{reducerPath:u.reducerPath??"api"})}),f={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...u,extractRehydrationInfo:d,serializeQueryArgs(S){let M=Fe;if("serializeQueryArgs"in S.endpointDefinition){const w=S.endpointDefinition.serializeQueryArgs;M=v=>{const y=w(v);return typeof y=="string"?y:Fe({...v,queryArgs:y})}}else u.serializeQueryArgs&&(M=u.serializeQueryArgs);return M(S)},tagTypes:[...u.tagTypes||[]]},b={endpointDefinitions:{},batch(S){S()},apiUid:Le(),extractRehydrationInfo:d,hasRehydrationInfo:We(S=>d(S)!=null)},g={injectEndpoints:E,enhanceEndpoints({addTagTypes:S,endpoints:M}){if(S)for(const w of S)f.tagTypes.includes(w)||f.tagTypes.push(w);if(M)for(const[w,v]of Object.entries(M))typeof v=="function"?v(b.endpointDefinitions[w]):Object.assign(b.endpointDefinitions[w]||{},v);return g}},P=e.map(S=>S.init(g,f,b));function E(S){const M=S.endpoints({query:w=>({...w,type:"query"}),mutation:w=>({...w,type:"mutation"}),infiniteQuery:w=>({...w,type:"infinitequery"})});for(const[w,v]of Object.entries(M)){if(S.overrideExisting!==!0&&w in b.endpointDefinitions){if(S.overrideExisting==="throw")throw new Error($(39));continue}b.endpointDefinitions[w]=v;for(const y of P)y.injectEndpoint(w,v)}return g}return g.injectEndpoints({endpoints:u.endpoints})}}function W(e,...n){return Object.assign(e,...n)}var Pn=({api:e,queryThunk:n,internalState:u})=>{const d=`${e.reducerPath}/subscriptions`;let f=null,b=null;const{updateSubscriptionOptions:g,unsubscribeQueryResult:P}=e.internalActions,E=(y,Q)=>{var R,m,C;if(g.match(Q)){const{queryCacheKey:s,requestId:r,options:a}=Q.payload;return(R=y==null?void 0:y[s])!=null&&R[r]&&(y[s][r]=a),!0}if(P.match(Q)){const{queryCacheKey:s,requestId:r}=Q.payload;return y[s]&&delete y[s][r],!0}if(e.internalActions.removeQueryResult.match(Q))return delete y[Q.payload.queryCacheKey],!0;if(n.pending.match(Q)){const{meta:{arg:s,requestId:r}}=Q,a=y[m=s.queryCacheKey]??(y[m]={});return a[`${r}_running`]={},s.subscribe&&(a[r]=s.subscriptionOptions??a[r]??{}),!0}let A=!1;if(n.fulfilled.match(Q)||n.rejected.match(Q)){const s=y[Q.meta.arg.queryCacheKey]||{},r=`${Q.meta.requestId}_running`;A||(A=!!s[r]),delete s[r]}if(n.rejected.match(Q)){const{meta:{condition:s,arg:r,requestId:a}}=Q;if(s&&r.subscribe){const h=y[C=r.queryCacheKey]??(y[C]={});h[a]=r.subscriptionOptions??h[a]??{},A=!0}}return A},S=()=>u.currentSubscriptions,v={getSubscriptions:S,getSubscriptionCount:y=>{const A=S()[y]??{};return te(A)},isRequestSubscribed:(y,Q)=>{var R;const A=S();return!!((R=A==null?void 0:A[y])!=null&&R[Q])}};return(y,Q)=>{if(f||(f=JSON.parse(JSON.stringify(u.currentSubscriptions))),e.util.resetApiState.match(y))return f=u.currentSubscriptions={},b=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(y))return[!1,v];const A=E(u.currentSubscriptions,y);let R=!0;if(A){b||(b=setTimeout(()=>{const s=JSON.parse(JSON.stringify(u.currentSubscriptions)),[,r]=ht(f,()=>s);Q.next(e.internalActions.subscriptionsUpdated(r)),f=s,b=null},500));const m=typeof y.type=="string"&&!!y.type.startsWith(d),C=n.rejected.match(y)&&y.meta.condition&&!!y.meta.arg.subscribe;R=!m&&!C}return[R,!1]}};function Qn(e){for(const n in e)return!1;return!0}var Rn=2147483647/1e3-1,An=({reducerPath:e,api:n,queryThunk:u,context:d,internalState:f,selectors:{selectQueryEntry:b,selectConfig:g}})=>{const{removeQueryResult:P,unsubscribeQueryResult:E,cacheEntriesUpserted:S}=n.internalActions,M=J(E.match,u.fulfilled,u.rejected,S.match);function w(R){const m=f.currentSubscriptions[R];return!!m&&!Qn(m)}const v={},y=(R,m,C)=>{const s=m.getState(),r=g(s);if(M(R)){let a;if(S.match(R))a=R.payload.map(h=>h.queryDescription.queryCacheKey);else{const{queryCacheKey:h}=E.match(R)?R.payload:R.meta.arg;a=[h]}Q(a,m,r)}if(n.util.resetApiState.match(R))for(const[a,h]of Object.entries(v))h&&clearTimeout(h),delete v[a];if(d.hasRehydrationInfo(R)){const{queries:a}=d.extractRehydrationInfo(R);Q(Object.keys(a),m,r)}};function Q(R,m,C){const s=m.getState();for(const r of R){const a=b(s,r);A(r,a==null?void 0:a.endpointName,m,C)}}function A(R,m,C,s){const r=d.endpointDefinitions[m],a=(r==null?void 0:r.keepUnusedDataFor)??s.keepUnusedDataFor;if(a===1/0)return;const h=Math.max(0,Math.min(a,Rn));if(!w(R)){const c=v[R];c&&clearTimeout(c),v[R]=setTimeout(()=>{w(R)||C.dispatch(P({queryCacheKey:R})),delete v[R]},h*1e3)}}return y},ct=new Error("Promise never resolved before cacheEntryRemoved."),In=({api:e,reducerPath:n,context:u,queryThunk:d,mutationThunk:f,internalState:b,selectors:{selectQueryEntry:g,selectApiState:P}})=>{const E=Te(d),S=Te(f),M=X(d,f),w={};function v(m,C,s){const r=w[m];r!=null&&r.valueResolved&&(r.valueResolved({data:C,meta:s}),delete r.valueResolved)}function y(m){const C=w[m];C&&(delete w[m],C.cacheEntryRemoved())}const Q=(m,C,s)=>{const r=A(m);function a(h,c,t,i){const o=g(s,c),l=g(C.getState(),c);!o&&l&&R(h,i,c,C,t)}if(d.pending.match(m))a(m.meta.arg.endpointName,r,m.meta.requestId,m.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(m))for(const{queryDescription:h,value:c}of m.payload){const{endpointName:t,originalArgs:i,queryCacheKey:o}=h;a(t,o,m.meta.requestId,i),v(o,c,{})}else if(f.pending.match(m))C.getState()[n].mutations[r]&&R(m.meta.arg.endpointName,m.meta.arg.originalArgs,r,C,m.meta.requestId);else if(M(m))v(r,m.payload,m.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(m)||e.internalActions.removeMutationResult.match(m))y(r);else if(e.util.resetApiState.match(m))for(const h of Object.keys(w))y(h)};function A(m){return E(m)?m.meta.arg.queryCacheKey:S(m)?m.meta.arg.fixedCacheKey??m.meta.requestId:e.internalActions.removeQueryResult.match(m)?m.payload.queryCacheKey:e.internalActions.removeMutationResult.match(m)?le(m.payload):""}function R(m,C,s,r,a){const h=u.endpointDefinitions[m],c=h==null?void 0:h.onCacheEntryAdded;if(!c)return;const t={},i=new Promise(D=>{t.cacheEntryRemoved=D}),o=Promise.race([new Promise(D=>{t.valueResolved=D}),i.then(()=>{throw ct})]);o.catch(()=>{}),w[s]=t;const l=e.endpoints[m].select(h.type==="query"?C:s),p=r.dispatch((D,I,T)=>T),q={...r,getCacheEntry:()=>l(r.getState()),requestId:a,extra:p,updateCachedData:h.type==="query"?D=>r.dispatch(e.util.updateQueryData(m,C,D)):void 0,cacheDataLoaded:o,cacheEntryRemoved:i},O=c(C,q);Promise.resolve(O).catch(D=>{if(D!==ct)throw D})}return Q},qn=({api:e,context:{apiUid:n},reducerPath:u})=>(d,f)=>{e.util.resetApiState.match(d)&&f.dispatch(e.internalActions.middlewareRegistered(n))},Cn=({reducerPath:e,context:n,context:{endpointDefinitions:u},mutationThunk:d,queryThunk:f,api:b,assertTagType:g,refetchQuery:P,internalState:E})=>{const{removeQueryResult:S}=b.internalActions,M=J(X(d),Pe(d)),w=J(X(d,f),ne(d,f));let v=[];const y=(R,m)=>{M(R)?A(Qt(R,"invalidatesTags",u,g),m):w(R)?A([],m):b.util.invalidateTags.match(R)&&A(Ke(R.payload,void 0,void 0,void 0,void 0,g),m)};function Q(R){var s;const{queries:m,mutations:C}=R;for(const r of[m,C])for(const a in r)if(((s=r[a])==null?void 0:s.status)==="pending")return!0;return!1}function A(R,m){const C=m.getState(),s=C[e];if(v.push(...R),s.config.invalidationBehavior==="delayed"&&Q(s))return;const r=v;if(v=[],r.length===0)return;const a=b.util.selectInvalidatedBy(C,r);n.batch(()=>{const h=Array.from(a.values());for(const{queryCacheKey:c}of h){const t=s.queries[c],i=E.currentSubscriptions[c]??{};t&&(te(i)===0?m.dispatch(S({queryCacheKey:c})):t.status!=="uninitialized"&&m.dispatch(P(t)))}})}return y},On=({reducerPath:e,queryThunk:n,api:u,refetchQuery:d,internalState:f})=>{const b={},g=(v,y)=>{(u.internalActions.updateSubscriptionOptions.match(v)||u.internalActions.unsubscribeQueryResult.match(v))&&E(v.payload,y),(n.pending.match(v)||n.rejected.match(v)&&v.meta.condition)&&E(v.meta.arg,y),(n.fulfilled.match(v)||n.rejected.match(v)&&!v.meta.condition)&&P(v.meta.arg,y),u.util.resetApiState.match(v)&&M()};function P({queryCacheKey:v},y){const Q=y.getState()[e],A=Q.queries[v],R=f.currentSubscriptions[v];if(!A||A.status==="uninitialized")return;const{lowestPollingInterval:m,skipPollingIfUnfocused:C}=w(R);if(!Number.isFinite(m))return;const s=b[v];s!=null&&s.timeout&&(clearTimeout(s.timeout),s.timeout=void 0);const r=Date.now()+m;b[v]={nextPollTimestamp:r,pollingInterval:m,timeout:setTimeout(()=>{(Q.config.focused||!C)&&y.dispatch(d(A)),P({queryCacheKey:v},y)},m)}}function E({queryCacheKey:v},y){const A=y.getState()[e].queries[v],R=f.currentSubscriptions[v];if(!A||A.status==="uninitialized")return;const{lowestPollingInterval:m}=w(R);if(!Number.isFinite(m)){S(v);return}const C=b[v],s=Date.now()+m;(!C||s<C.nextPollTimestamp)&&P({queryCacheKey:v},y)}function S(v){const y=b[v];y!=null&&y.timeout&&clearTimeout(y.timeout),delete b[v]}function M(){for(const v of Object.keys(b))S(v)}function w(v={}){let y=!1,Q=Number.POSITIVE_INFINITY;for(let A in v)v[A].pollingInterval&&(Q=Math.min(v[A].pollingInterval,Q),y=v[A].skipPollingIfUnfocused||y);return{lowestPollingInterval:Q,skipPollingIfUnfocused:y}}return g},Dn=({api:e,context:n,queryThunk:u,mutationThunk:d})=>{const f=ze(u,d),b=ne(u,d),g=X(u,d),P={};return(S,M)=>{var w,v;if(f(S)){const{requestId:y,arg:{endpointName:Q,originalArgs:A}}=S.meta,R=n.endpointDefinitions[Q],m=R==null?void 0:R.onQueryStarted;if(m){const C={},s=new Promise((c,t)=>{C.resolve=c,C.reject=t});s.catch(()=>{}),P[y]=C;const r=e.endpoints[Q].select(R.type==="query"?A:y),a=M.dispatch((c,t,i)=>i),h={...M,getCacheEntry:()=>r(M.getState()),requestId:y,extra:a,updateCachedData:R.type==="query"?c=>M.dispatch(e.util.updateQueryData(Q,A,c)):void 0,queryFulfilled:s};m(A,h)}}else if(g(S)){const{requestId:y,baseQueryMeta:Q}=S.meta;(w=P[y])==null||w.resolve({data:S.payload,meta:Q}),delete P[y]}else if(b(S)){const{requestId:y,rejectedWithValue:Q,baseQueryMeta:A}=S.meta;(v=P[y])==null||v.reject({error:S.payload??S.error,isUnhandledError:!Q,meta:A}),delete P[y]}}},Tn=({reducerPath:e,context:n,api:u,refetchQuery:d,internalState:f})=>{const{removeQueryResult:b}=u.internalActions,g=(E,S)=>{xe.match(E)&&P(S,"refetchOnFocus"),Ne.match(E)&&P(S,"refetchOnReconnect")};function P(E,S){const M=E.getState()[e],w=M.queries,v=f.currentSubscriptions;n.batch(()=>{for(const y of Object.keys(v)){const Q=w[y],A=v[y];if(!A||!Q)continue;(Object.values(A).some(m=>m[S]===!0)||Object.values(A).every(m=>m[S]===void 0)&&M.config[S])&&(te(A)===0?E.dispatch(b({queryCacheKey:y})):Q.status!=="uninitialized"&&E.dispatch(d(Q)))}})}return g};function jn(e){const{reducerPath:n,queryThunk:u,api:d,context:f}=e,{apiUid:b}=f,g={invalidateTags:H(`${n}/invalidateTags`)},P=w=>w.type.startsWith(`${n}/`),E=[qn,An,Cn,On,In,Dn];return{middleware:w=>{let v=!1;const Q={...e,internalState:{currentSubscriptions:{}},refetchQuery:M,isThisApiSliceAction:P},A=E.map(C=>C(Q)),R=Pn(Q),m=Tn(Q);return C=>s=>{if(!ft(s))return C(s);v||(v=!0,w.dispatch(d.internalActions.middlewareRegistered(b)));const r={...w,next:C},a=w.getState(),[h,c]=R(s,r,a);let t;if(h?t=C(s):t=c,w.getState()[n]&&(m(s,r,a),P(s)||f.hasRehydrationInfo(s)))for(const i of A)i(s,r,a);return t}},actions:g};function M(w){return e.api.endpoints[w.endpointName].initiate(w.originalArgs,{subscribe:!1,forceRefetch:!0})}}var at=Symbol(),It=({createSelector:e=gt}={})=>({name:at,init(n,{baseQuery:u,tagTypes:d,reducerPath:f,serializeQueryArgs:b,keepUnusedDataFor:g,refetchOnMountOrArgChange:P,refetchOnFocus:E,refetchOnReconnect:S,invalidationBehavior:M},w){_t();const v=_=>_;Object.assign(n,{reducerPath:f,endpoints:{},internalActions:{onOnline:Ne,onOffline:Et,onFocus:xe,onFocusLost:Mt},util:{}});const y=En({serializeQueryArgs:b,reducerPath:f,createSelector:e}),{selectInvalidatedBy:Q,selectCachedArgsForQuery:A,buildQuerySelector:R,buildInfiniteQuerySelector:m,buildMutationSelector:C}=y;W(n.util,{selectInvalidatedBy:Q,selectCachedArgsForQuery:A});const{queryThunk:s,infiniteQueryThunk:r,mutationThunk:a,patchQueryData:h,updateQueryData:c,upsertQueryData:t,prefetch:i,buildMatchThunkActions:o}=wn({baseQuery:u,reducerPath:f,context:w,api:n,serializeQueryArgs:b,assertTagType:v,selectors:y}),{reducer:l,actions:p}=Mn({context:w,queryThunk:s,mutationThunk:a,serializeQueryArgs:b,reducerPath:f,assertTagType:v,config:{refetchOnFocus:E,refetchOnReconnect:S,refetchOnMountOrArgChange:P,keepUnusedDataFor:g,reducerPath:f,invalidationBehavior:M}});W(n.util,{patchQueryData:h,updateQueryData:c,upsertQueryData:t,prefetch:i,resetApiState:p.resetApiState,upsertQueryEntries:p.cacheEntriesUpserted}),W(n.internalActions,p);const{middleware:q,actions:O}=jn({reducerPath:f,context:w,queryThunk:s,mutationThunk:a,infiniteQueryThunk:r,api:n,assertTagType:v,selectors:y});W(n.util,O),W(n,{reducer:l,middleware:q});const{buildInitiateQuery:D,buildInitiateInfiniteQuery:I,buildInitiateMutation:T,getRunningMutationThunk:k,getRunningMutationsThunk:L,getRunningQueriesThunk:N,getRunningQueryThunk:U}=vn({queryThunk:s,mutationThunk:a,infiniteQueryThunk:r,api:n,serializeQueryArgs:b,context:w});return W(n.util,{getRunningMutationThunk:k,getRunningMutationsThunk:L,getRunningQueryThunk:U,getRunningQueriesThunk:N}),{name:at,injectEndpoint(_,B){var F;const z=(F=n.endpoints)[_]??(F[_]={});Be(B)&&W(z,{name:_,select:R(_,B),initiate:D(_,B)},o(s,_)),gn(B)&&W(z,{name:_,select:C(),initiate:T(_)},o(a,_)),Ve(B)&&W(z,{name:_,select:m(_,B),initiate:I(_,B)},o(s,_))}}}});It();function be(e){return e.replace(e[0],e[0].toUpperCase())}function kn(e){return e.type==="query"}function _n(e){return e.type==="mutation"}function qt(e){return e.type==="infinitequery"}function se(e,...n){return Object.assign(e,...n)}var qe=Symbol();function lt(e,n,u,d){const f=j.useMemo(()=>({queryArgs:e,serialized:typeof e=="object"?n({queryArgs:e,endpointDefinition:u,endpointName:d}):e}),[e,n,u,d]),b=j.useRef(f);return j.useEffect(()=>{b.current.serialized!==f.serialized&&(b.current=f)},[f]),b.current.serialized===f.serialized?b.current.queryArgs:e}function ve(e){const n=j.useRef(e);return j.useEffect(()=>{ue(n.current,e)||(n.current=e)},[e]),ue(n.current,e)?n.current:e}var Fn=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Un=Fn(),zn=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ln=zn(),xn=()=>Un||Ln?j.useLayoutEffect:j.useEffect,Nn=xn(),dt=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:St.pending}:e;function Ce(e,...n){const u={};return n.forEach(d=>{u[d]=e[d]}),u}var Oe=["data","status","isLoading","isSuccess","isError","error"];function Bn({api:e,moduleOptions:{batch:n,hooks:{useDispatch:u,useSelector:d,useStore:f},unstable__sideEffectsInRender:b,createSelector:g},serializeQueryArgs:P,context:E}){const S=b?r=>r():j.useEffect;return{buildQueryHooks:m,buildInfiniteQueryHooks:C,buildMutationHook:s,usePrefetch:v};function M(r,a,h){if(a!=null&&a.endpointName&&r.isUninitialized){const{endpointName:p}=a,q=E.endpointDefinitions[p];h!==G&&P({queryArgs:a.originalArgs,endpointDefinition:q,endpointName:p})===P({queryArgs:h,endpointDefinition:q,endpointName:p})&&(a=void 0)}let c=r.isSuccess?r.data:a==null?void 0:a.data;c===void 0&&(c=r.data);const t=c!==void 0,i=r.isLoading,o=(!a||a.isLoading||a.isUninitialized)&&!t&&i,l=r.isSuccess||t&&(i&&!(a!=null&&a.isError)||r.isUninitialized);return{...r,data:c,currentData:r.data,isFetching:i,isLoading:o,isSuccess:l}}function w(r,a,h){if(a!=null&&a.endpointName&&r.isUninitialized){const{endpointName:p}=a,q=E.endpointDefinitions[p];P({queryArgs:a.originalArgs,endpointDefinition:q,endpointName:p})===P({queryArgs:h,endpointDefinition:q,endpointName:p})&&(a=void 0)}let c=r.isSuccess?r.data:a==null?void 0:a.data;c===void 0&&(c=r.data);const t=c!==void 0,i=r.isLoading,o=(!a||a.isLoading||a.isUninitialized)&&!t&&i,l=r.isSuccess||i&&t;return{...r,data:c,currentData:r.data,isFetching:i,isLoading:o,isSuccess:l}}function v(r,a){const h=u(),c=ve(a);return j.useCallback((t,i)=>h(e.util.prefetch(r,t,{...c,...i})),[r,h,c])}function y(r,a,{refetchOnReconnect:h,refetchOnFocus:c,refetchOnMountOrArgChange:t,skip:i=!1,pollingInterval:o=0,skipPollingIfUnfocused:l=!1,...p}={}){const{initiate:q}=e.endpoints[r],O=u(),D=j.useRef(void 0);if(!D.current){const F=O(e.internalActions.internal_getRTKQSubscriptions());D.current=F}const I=lt(i?G:a,Fe,E.endpointDefinitions[r],r),T=ve({refetchOnReconnect:h,refetchOnFocus:c,pollingInterval:o,skipPollingIfUnfocused:l}),k=j.useRef(!1),L=p.initialPageParam,N=ve(L),U=j.useRef(void 0);let{queryCacheKey:_,requestId:B}=U.current||{},x=!1;_&&B&&(x=D.current.isRequestSubscribed(_,B));const z=!x&&k.current;return S(()=>{k.current=x}),S(()=>{z&&(U.current=void 0)},[z]),S(()=>{var K;const F=U.current;if(I===G){F==null||F.unsubscribe(),U.current=void 0;return}const V=(K=U.current)==null?void 0:K.subscriptionOptions;if(!F||F.arg!==I){F==null||F.unsubscribe();const pe=O(q(I,{subscriptionOptions:T,forceRefetch:t,...qt(E.endpointDefinitions[r])?{initialPageParam:N}:{}}));U.current=pe}else T!==V&&F.updateSubscriptionOptions(T)},[O,q,t,I,T,z,N,r]),[U,O,q,T]}function Q(r,a){return(c,{skip:t=!1,selectFromResult:i}={})=>{const{select:o}=e.endpoints[r],l=lt(t?G:c,P,E.endpointDefinitions[r],r),p=j.useRef(void 0),q=j.useMemo(()=>g([o(l),(k,L)=>L,k=>l],a,{memoizeOptions:{resultEqualityCheck:ue}}),[o,l]),O=j.useMemo(()=>i?g([q],i,{devModeChecks:{identityFunctionCheck:"never"}}):q,[q,i]),D=d(k=>O(k,p.current),ue),I=f(),T=q(I.getState(),p.current);return Nn(()=>{p.current=T},[T]),D}}function A(r){j.useEffect(()=>()=>{var a,h;(h=(a=r.current)==null?void 0:a.unsubscribe)==null||h.call(a),r.current=void 0},[r])}function R(r){if(!r.current)throw new Error($(38));return r.current.refetch()}function m(r){const a=(t,i={})=>{const[o]=y(r,t,i);return A(o),j.useMemo(()=>({refetch:()=>R(o)}),[o])},h=({refetchOnReconnect:t,refetchOnFocus:i,pollingInterval:o=0,skipPollingIfUnfocused:l=!1}={})=>{const{initiate:p}=e.endpoints[r],q=u(),[O,D]=j.useState(qe),I=j.useRef(void 0),T=ve({refetchOnReconnect:t,refetchOnFocus:i,pollingInterval:o,skipPollingIfUnfocused:l});S(()=>{var _,B;const U=(_=I.current)==null?void 0:_.subscriptionOptions;T!==U&&((B=I.current)==null||B.updateSubscriptionOptions(T))},[T]);const k=j.useRef(T);S(()=>{k.current=T},[T]);const L=j.useCallback(function(U,_=!1){let B;return n(()=>{var x;(x=I.current)==null||x.unsubscribe(),I.current=B=q(p(U,{subscriptionOptions:k.current,forceRefetch:!_})),D(U)}),B},[q,p]),N=j.useCallback(()=>{var U,_;(U=I.current)!=null&&U.queryCacheKey&&q(e.internalActions.removeQueryResult({queryCacheKey:(_=I.current)==null?void 0:_.queryCacheKey}))},[q]);return j.useEffect(()=>()=>{var U;(U=I==null?void 0:I.current)==null||U.unsubscribe()},[]),j.useEffect(()=>{O!==qe&&!I.current&&L(O,!0)},[O,L]),j.useMemo(()=>[L,O,{reset:N}],[L,O,N])},c=Q(r,M);return{useQueryState:c,useQuerySubscription:a,useLazyQuerySubscription:h,useLazyQuery(t){const[i,o,{reset:l}]=h(t),p=c(o,{...t,skip:o===qe}),q=j.useMemo(()=>({lastArg:o}),[o]);return j.useMemo(()=>[i,{...p,reset:l},q],[i,p,l,q])},useQuery(t,i){const o=a(t,i),l=c(t,{selectFromResult:t===G||i!=null&&i.skip?void 0:dt,...i}),p=Ce(l,...Oe);return j.useDebugValue(p),j.useMemo(()=>({...l,...o}),[l,o])}}}function C(r){const a=(c,t={})=>{const[i,o,l,p]=y(r,c,t),q=j.useRef(p);S(()=>{q.current=p},[p]);const O=j.useCallback(function(D,I){let T;return n(()=>{var k;(k=i.current)==null||k.unsubscribe(),i.current=T=o(l(D,{subscriptionOptions:q.current,direction:I}))}),T},[i,o,l]);return A(i),j.useMemo(()=>({trigger:O,refetch:()=>R(i),fetchNextPage:()=>O(c,"forward"),fetchPreviousPage:()=>O(c,"backward")}),[i,O,c])},h=Q(r,w);return{useInfiniteQueryState:h,useInfiniteQuerySubscription:a,useInfiniteQuery(c,t){const{refetch:i,fetchNextPage:o,fetchPreviousPage:l}=a(c,t),p=h(c,{selectFromResult:c===G||t!=null&&t.skip?void 0:dt,...t}),q=Ce(p,...Oe,"hasNextPage","hasPreviousPage");return j.useDebugValue(q),j.useMemo(()=>({...p,fetchNextPage:o,fetchPreviousPage:l,refetch:i}),[p,o,l,i])}}}function s(r){return({selectFromResult:a,fixedCacheKey:h}={})=>{const{select:c,initiate:t}=e.endpoints[r],i=u(),[o,l]=j.useState();j.useEffect(()=>()=>{o!=null&&o.arg.fixedCacheKey||o==null||o.reset()},[o]);const p=j.useCallback(function(U){const _=i(t(U,{fixedCacheKey:h}));return l(_),_},[i,t,h]),{requestId:q}=o||{},O=j.useMemo(()=>c({fixedCacheKey:h,requestId:o==null?void 0:o.requestId}),[h,o,c]),D=j.useMemo(()=>a?g([O],a):O,[a,O]),I=d(D,ue),T=h==null?o==null?void 0:o.arg.originalArgs:void 0,k=j.useCallback(()=>{n(()=>{o&&l(void 0),h&&i(e.internalActions.removeMutationResult({requestId:q,fixedCacheKey:h}))})},[i,h,o,q]),L=Ce(I,...Oe,"endpointName");j.useDebugValue(L);const N=j.useMemo(()=>({...I,originalArgs:T,reset:k}),[I,T,k]);return j.useMemo(()=>[p,N],[p,N])}}}var Vn=Symbol(),Kn=({batch:e=Lt,hooks:n={useDispatch:Bt,useSelector:Nt,useStore:xt},createSelector:u=gt,unstable__sideEffectsInRender:d=!1,...f}={})=>({name:Vn,init(b,{serializeQueryArgs:g},P){const E=b,{buildQueryHooks:S,buildInfiniteQueryHooks:M,buildMutationHook:w,usePrefetch:v}=Bn({api:b,moduleOptions:{batch:e,hooks:n,unstable__sideEffectsInRender:d,createSelector:u},serializeQueryArgs:g,context:P});return se(E,{usePrefetch:v}),se(P,{batch:e}),{injectEndpoint(y,Q){if(kn(Q)){const{useQuery:A,useLazyQuery:R,useLazyQuerySubscription:m,useQueryState:C,useQuerySubscription:s}=S(y);se(E.endpoints[y],{useQuery:A,useLazyQuery:R,useLazyQuerySubscription:m,useQueryState:C,useQuerySubscription:s}),b[`use${be(y)}Query`]=A,b[`useLazy${be(y)}Query`]=R}if(_n(Q)){const A=w(y);se(E.endpoints[y],{useMutation:A}),b[`use${be(y)}Mutation`]=A}else if(qt(Q)){const{useInfiniteQuery:A,useInfiniteQuerySubscription:R,useInfiniteQueryState:m}=M(y);se(E.endpoints[y],{useInfiniteQuery:A,useInfiniteQuerySubscription:R,useInfiniteQueryState:m}),b[`use${be(y)}InfiniteQuery`]=A}}}}}),er=At(It(),Kn());export{er as a,Zn as b,Z as c,Pe as i};
